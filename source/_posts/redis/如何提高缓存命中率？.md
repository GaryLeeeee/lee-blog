---
title: 如何提高缓存命中率？
date: 2023-09-13 15:53:56
tags:
categories: [Redis]
---

## 一、什么是缓存命中率？
如果我们使用redis作为缓存数据库，一般会用缓存命中率来评判对系统的性能（抗并发性）有多大的提升。通常来说，命中率越高，表示使用缓存效果越高，同时系统性能越好、抗并发能力越强。

**缓存命中率**指的是客户端查询语句查询redis的key时，命中次数占总次数的占比。
>比如redis中有三个key，分别是keyA、keyB、keyC，那么我去查询keyA、keyD、keyE、keyF，命中了keyA，所以缓存命中率是25%

## 二、如何查询缓存命中率
在redis中提供了`info`命令，能够用来实时监控服务器的使用状态信息，其中`keyspace_hits`表示命中次数、`keyspace_misses`表示未命中次数

```shell
# ...
# Stats
expired_keys:0
evicted_keys:0
keyspace_hits:1
keyspace_misses:1
# ...
```

## 三、如何提高缓存命中率？
提高缓存命中率可以从以下几个方面来做：
* **配置适合的缓存淘汰策略**：避免访问频繁的key被淘汰，导致频繁未命中
* **热点key续期**：对于访问频繁的key，可以定时续期（理论上不做永久存储）
* **多级缓存**：可以结合本地缓存等缓存方案，提高缓存命中率
* **预热**：对于可预知的访问频繁的key，可以提前通过自动/手动缓存（如秒杀活动）
* ...

