---
title: 如何实现一个扫码登录功能？
date: 2023-08-20 12:17:35
tags: [token]
categories: [场景题]
---

## 一、什么是扫码登录？
**扫码登录**指的是通过已经登录的APP应用，取扫描未登录的Web端程序中的二维码，通过某种机制触发登录凭证的写入从而实现Web端自动登录的过程

## 二、扫描登录的流程
扫码登录的流程主要有以下几步：
1. Web端打开登录页面，请求服务端获取一个二维码（带有一个唯一标识ID），同时Web端会轮询这个二维码的状态
2. APP扫描这个二维码，获取到二维码ID，同时将APP的token信息发送给服务端
3. 服务端拿到扫码请求，会先修改二维码状态为已扫码，并生成一个临时token
4. Web端轮询到该二维码已被扫描，会更改二维码显示状态
5. APP拿到服务端返回的临时token后，提示是否确认授权
6. 确认授权后，会携带临时token给服务端，服务端修改二维码状态为已授权，并为Web端生成授权token
7. Web端轮询到该二维码已授权，会请求服务端拿到token，并完成扫码登录

![扫码登录](/images/扫码登录.png)

